<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>xsh</title>
    <link>https://xied5531.github.io/xsh/docs/example/</link>
    <description>Recent content on xsh</description>
    <generator>Hugo -- gohugo.io</generator>
    
	<atom:link href="https://xied5531.github.io/xsh/docs/example/index.xml" rel="self" type="application/rss+xml" />
    
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/cli/command/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/cli/command/</guid>
      <description>执行命令 前提  已设置好配置项：系统配置、认证配置、主机配置  执行方式：普通用户 单条：
$ xsh.exe -mode cmd -group alpha02 -cmd whoami[192.168.165.37 ] ---------------------------------------------------------abc[192.168.170.109 ] ---------------------------------------------------------abc多条：
$ xsh-windows-amd64.exe -mode cmd -group alpha02 -cmd &amp;quot;whoami; date -u; pwd&amp;quot;[192.168.165.37 ] ---------------------------------------------------------abcFri May 8 07:00:13 UTC 2020/home/abc[192.168.170.109 ] ---------------------------------------------------------abcFri May 8 07:00:22 UTC 2020/home/abc执行方式：从普通用户切换至其他用户 单条：
$ xsh.exe -mode cmd -group alpha02 -su -cmd whoami[192.168.170.109 ] ---------------------------------------------------------rootWarn =&amp;gt;[sudo] password for root:[192.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/cli/copy/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/cli/copy/</guid>
      <description>上传下载 前提  已设置好配置项：系统配置、认证配置、主机配置  说明  上传时，local可以是文件或文件夹，remote默认是文件夹 下载时，remote可以是文件或文件夹，local默认是文件夹 仅支持以默认用户执行，不支持切换用户执行  上传  将本地节点上的内容上传至远端目标主机组的每个主机上
 文件：
$ xsh-windows-amd64.exe -mode copy -group alpha02 -direction upload -local D:\tmp\LICENSE -remote /home/abc/cli/copy[192.168.170.109 ] ---------------------------------------------------------D:\tmp\LICENSE -&amp;gt; /home/abc/cli/copy/LICENSE :OK[192.168.165.37 ] ---------------------------------------------------------D:\tmp\LICENSE -&amp;gt; /home/abc/cli/copy/LICENSE :OK文件夹：
$ xsh-windows-amd64.exe -mode copy -group alpha02 -direction upload -local D:\tmp -remote /home/abc/cli/copy/folder[192.168.165.37 ] ---------------------------------------------------------D:\tmp -&amp;gt; /home/abc/cli/copy/folder/tmp :OKD:\tmp\LICENSE -&amp;gt; /home/abc/cli/copy/folder/tmp/LICENSE :OKD:\tmp\hello -&amp;gt; /home/abc/cli/copy/folder/tmp/hello :OKD:\tmp\hello\README.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/cli/crypt/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/cli/crypt/</guid>
      <description>加解密 前提  已设置好配置项：系统配置、认证配置、主机配置 已设置系统配置项crypt  加密 $ xsh.exe -mode crypt -plain hellohello -&amp;gt; d436838303eab251c32d5622e92160ad40a4f64328解密 $ xsh.exe -mode crypt -cipher d436838303eab251c32d5622e92160ad40a4f64328d436838303eab251c32d5622e92160ad40a4f64328 -&amp;gt; hello</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/cli/task/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/cli/task/</guid>
      <description>任务编排 前提  已设置好配置项：系统配置、认证配置、主机配置  说明  ..\example\show-info.yaml
 name: show infoactions:- name: show mem and systemgroup: alpha01steps:- type: commandcommands:- free -h- uptime- name: show user infogroup: alpha02steps:- type: commandcommands:- id 在alpha01上查看内存和系统信息 在alpha02上查看用户信息  执行 $ xsh-windows-amd64.exe -mode task -task ..\example\show-info.yaml[show info ] +++++++++++++++++++++++++++++++++++++++[alpha01: show mem and system ] =======================================[192.168.162.65 ] ---------------------------------------------------------total used free shared buff/cache availableMem: 15G 2.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/cli/value/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/cli/value/</guid>
      <description>带变量的任务 前提  已设置好配置项：系统配置、认证配置、主机配置  说明  ..\example\add-user\add-user.yaml
 name: add new useractions:- name: add user and set passwdgroup: alpha02steps:- type: commandsu: truecommands:- useradd -m {{.alpha.test.username}}- echo {{.alpha.test.passwd}} | passwd --stdin {{.alpha.test.username}}- id {{.alpha.test.username}} 变量采用text/template语法
  ..\example\add-user\user-info.yaml
 alpha:test:username: hello22passwd: Tst@1qaz 变量单独定义文件
 执行 $ xsh-windows-amd64.exe -mode task -task ..\example\add-user\add-user.yaml -value ..\example\add-user\user-info.yaml[add new user ] +++++++++++++++++++++++++++++++++++++++[alpha02: add user and set passwd ] =======================================[192.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/command/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/command/</guid>
      <description>执行命令 前提  已设置好配置项：系统配置、认证配置、主机配置 已切换到目标主机组环境   以group=alpha02为例
 执行方式：普通用户 切换上下文 命令：:do
[alpha02:do]# :do[alpha02:do]#执行单条命令 [alpha02:do]# whoami[192.168.170.109 ] ---------------------------------------------------------abc[192.168.165.37 ] ---------------------------------------------------------abc执行多条命令 [alpha02:do]# whoami;date -u;pwd[192.168.170.109 ] ---------------------------------------------------------abcFri May 8 06:42:29 UTC 2020/home/abc[192.168.165.37 ] ---------------------------------------------------------abcFri May 8 06:42:20 UTC 2020/home/abc执行方式：从普通用户切换至其他用户 切换上下文 命令：:sudo
[alpha02:do]# :sudo[alpha02:sudo]#执行单条命令 [alpha02:sudo]# whoami[192.168.165.37 ] ---------------------------------------------------------rootWarn =&amp;gt;[sudo] password for root:[192.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/copy/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/copy/</guid>
      <description>上传下载 前提  已设置好配置项：系统配置、认证配置、主机配置 已切换到目标主机组环境   以group=alpha02为例
 切换上下文 命令：:copy
[alpha02:do]# :copy[alpha02:copy]#上传  将本地节点上的内容上传至远端目标主机组的每个主机上
 用法：local -&amp;gt; remote
约束：
 local和remote必须是全路径，例如：D:\tmp\LICENSE（Windows）或/tmp/abc（Linux） local可以是文件或文件夹 remote必须是文件夹，如果不存在将自动在远端新建文件夹  文件：
[alpha02:copy]# D:\tmp\LICENSE -&amp;gt; /home/abc/copy/tmp[192.168.165.37 ] ---------------------------------------------------------D:\tmp\LICENSE -&amp;gt; /home/abc/copy/tmp/LICENSE :OK[192.168.170.109 ] ---------------------------------------------------------D:\tmp\LICENSE -&amp;gt; /home/abc/copy/tmp/LICENSE :OK[alpha02:copy]# :do[alpha02:do]# find /home/abc/copy/tmp[192.168.170.109 ] ---------------------------------------------------------/home/abc/copy/tmp/home/abc/copy/tmp/LICENSE[192.168.165.37 ] ---------------------------------------------------------/home/abc/copy/tmp/home/abc/copy/tmp/LICENSE[alpha02:do]# :copy[alpha02:copy]#文件夹：
[alpha02:copy]# D:\tmp -&amp;gt; /home/abc/copy/folder[192.168.170.109 ] ---------------------------------------------------------D:\tmp -&amp;gt; /home/abc/copy/folder/tmp :OKD:\tmp\LICENSE -&amp;gt; /home/abc/copy/folder/tmp/LICENSE :OKD:\tmp\hello -&amp;gt; /home/abc/copy/folder/tmp/hello :OKD:\tmp\hello\README.</description>
    </item>
    
    <item>
      <title></title>
      <link>https://xied5531.github.io/xsh/docs/example/env/</link>
      <pubDate>Mon, 01 Jan 0001 00:00:00 +0000</pubDate>
      
      <guid>https://xied5531.github.io/xsh/docs/example/env/</guid>
      <description>切换环境 前提  已设置好配置项：系统配置、认证配置、主机配置  切换环境 切换至目标主机组 查看主机组列表：
命令：:show group
[alpha01:do]# :show group- alpha-123- alpha01- alpha02切换至目标主机组：
命令：:set group=xxx
 xxx，主机配置项中的主机组名称
 [alpha01:do]# :set group=alpha02[alpha02:do]#切换至目标主机地址 查看当前主机组主机地址列表：
命令：:show address
[alpha02:do]# :show address- 192.168.165.37- 192.168.170.109切换至目标主机地址：
命令：:set address=x.x.x.x
 x.x.x.x，当前主机组中某一个主机地址
 [alpha02:do]# :set address=192.168.165.37[alpha@192.168.165.37:do]#切换上下文 支持的上下文列表
 :do，以配置的用户身份，登录目标主机，执行命令 :sudo，以配置的用户身份，登录目标主机，执行su切换用户，执行命令 :copy，进入上传下载模式，-&amp;gt;代表上传，&amp;lt;-代表下载  [alpha02:do]# :do[alpha02:do]# :sudo[alpha02:sudo]# :copy[alpha02:copy]# :do[alpha02:do]#</description>
    </item>
    
  </channel>
</rss>